.386

DATA SEGMENT USE16
  BUF  DB 200
       DB ?
       DB 200 DUP(0)
       
  CTRL DB 0DH, 0AH, '$'
DATA ENDS

STACK SEGMENT USE16 STACK
      DB 200 DUP(0)
STACK ENDS

CODE SEGMENT USE16
     ASSUME CS:CODE, SS:STACK, DS:DATA
START:
     MOV AX, DATA
     MOV DS, AX
     
     LEA DX, OFFSET BUF
     MOV AH, 10
     INT 21H
     
     LEA DX, OFFSET CTRL
     MOV AH, 9
     INT 21H

     MOV AH,4CH
     INT 21H
CODE ENDS
     END START

